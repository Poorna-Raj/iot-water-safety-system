---
config:
  layout: elk
---
flowchart TB
 subgraph Water_Body["Man-Made Tank / Lake"]
        N1["Sensor Node<br>(ESP32 / ESP8266)<br>
        Temperature<br>
        pH<br>
        Turbidity<br>
        Pressure (Depth)"]
        SAFETY["Safety &amp; Monitoring Node<br>(ESP32 / ESP8266)<br>
        Ultrasonic / IR Human Detection<br>
        Local Decision Logic"]
        DISPLAY["On-Site Physical Dashboard<br>
        LCD / LED Panel<br>
        Status Indicators<br>
        Buzzer / Alarm"]
  end
 subgraph Network["Communication Layer"]
        WIFI["Wi-Fi / Mobile Hotspot"]
  end
 subgraph Backend["Cloud / Backend Layer"]
        API["Firebase / REST API<br>
        Data Ingestion"]
        DB["Database<br>
        Real-Time &amp; Historical Data"]
        LOGIC["Risk Classification Engine<br>
        Safe / Caution / Unsafe"]
  end
 subgraph Application["Application Layer"]
        DASH["Web / Mobile Dashboard"]
        MAP["Risk-Based Visualization<br>
        Heat Map"]
        ALERT["Alert System<br>
        Authorities / Admin Notification"]
  end
    SAFETY --> DISPLAY & Network
    WIFI --> API
    API --> DB
    DB --> LOGIC
    LOGIC --> DASH & ALERT
    DASH --> MAP
    N1 --> Network
    LOGIC --> SAFETY